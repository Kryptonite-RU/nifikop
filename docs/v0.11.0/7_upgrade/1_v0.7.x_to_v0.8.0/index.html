<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="alternate" type="application/rss+xml" href="/nifikop/blog/rss.xml" title="NiFiKop Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/nifikop/blog/atom.xml" title="NiFiKop Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="NiFiKop" href="/nifikop/opensearch.xml">
<script src="https://cdn.jsdelivr.net/npm/focus-visible@5.2.0/dist/focus-visible.min.js" defer="defer"></script>
<script src="https://snack.expo.io/embed.js" defer="defer"></script><title data-react-helmet="true">v0.7.x to v0.8.0 Â· NiFiKop</title><meta data-react-helmet="true" property="og:image" content="https://konpyutaika.github.io/nifikop/img/logo-og.png"><meta data-react-helmet="true" property="twitter:image" content="https://konpyutaika.github.io/nifikop/img/logo-og.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for NiFiKop"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="v0.11.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-v0.11.0"><meta data-react-helmet="true" property="og:title" content="v0.7.x to v0.8.0 Â· NiFiKop"><meta data-react-helmet="true" name="description" content="Guide to migrate operator resources built using nifi.orange.com/v1alpha1 to nifi.konpyutaika/v1alpha1."><meta data-react-helmet="true" property="og:description" content="Guide to migrate operator resources built using nifi.orange.com/v1alpha1 to nifi.konpyutaika/v1alpha1."><meta data-react-helmet="true" property="og:url" content="https://konpyutaika.github.io/nifikop/docs/v0.11.0/7_upgrade/1_v0.7.x_to_v0.8.0"><link data-react-helmet="true" rel="shortcut icon" href="/nifikop/img/nifikop.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://konpyutaika.github.io/nifikop/docs/v0.11.0/7_upgrade/1_v0.7.x_to_v0.8.0"><link rel="stylesheet" href="/nifikop/styles.57b159bc.css">
<link rel="stylesheet" href="/nifikop/main.6ee8eb29.css">
<link rel="preload" href="/nifikop/styles.b0f4045d.js" as="script">
<link rel="preload" href="/nifikop/runtime~main.924a0b71.js" as="script">
<link rel="preload" href="/nifikop/main.0697f0f6.js" as="script">
<link rel="preload" href="/nifikop/1.74fd8109.js" as="script">
<link rel="preload" href="/nifikop/2.76427c8b.js" as="script">
<link rel="preload" href="/nifikop/3.ec1cc495.js" as="script">
<link rel="preload" href="/nifikop/1be78505.f716530f.js" as="script">
<link rel="preload" href="/nifikop/570.643fbaa5.js" as="script">
<link rel="preload" href="/nifikop/0856e11c.29c8981f.js" as="script">
<link rel="preload" href="/nifikop/17896441.03e7516b.js" as="script">
<link rel="preload" href="/nifikop/f92d5d01.4d3cf769.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/nifikop/"><img class="navbar__logo" src="/nifikop/img/nifikop.png" alt="NiFiKop Logo"><strong class="navbar__title">NiFiKop</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/nifikop/docs/v0.11.0/1_concepts/1_introduction">v0.11.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/nifikop/docs/next/7_upgrade/1_v0.7.x_to_v0.8.0">Next</a></li><li><a class="dropdown__link" href="/nifikop/docs/7_upgrade/1_v0.7.x_to_v0.8.0">v0.13.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.12.0/7_upgrade/1_v0.7.x_to_v0.8.0">v0.12.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/nifikop/docs/v0.11.0/7_upgrade/1_v0.7.x_to_v0.8.0">v0.11.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.10.0/1_concepts/1_introduction">v0.10.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.9.0/1_concepts/1_introduction">v0.9.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.8.0/1_concepts/1_introduction">v0.8.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.7.6/1_concepts/1_introduction">v0.7.6</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.7.5/1_concepts/1_introduction">v0.7.5</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.7.0/1_concepts/1_introduction">v0.7.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.6.3/1_concepts/1_introduction">v0.6.3</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.6.2/1_concepts/1_introduction">v0.6.2</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.6.1/1_concepts/1_introduction">v0.6.1</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.6.0/1_concepts/1_introduction">v0.6.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.5.3/1_concepts/1_introduction">v0.5.3</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.4.3/1_concepts/1_introduction">v0.4.3</a></li><li><a class="dropdown__link" href="/nifikop/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link header-doc-link" aria-label="Documentation" href="/nifikop/docs/1_concepts/1_introduction"></a><a class="navbar__item navbar__link header-blog-link" aria-label="Blog" href="/nifikop/blog"></a><a href="https://github.com/konpyutaika/nifikop" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_3lWe"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_gnXW">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_gnXW">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/nifikop/"><img class="navbar__logo" src="/nifikop/img/nifikop.png" alt="NiFiKop Logo"><strong class="navbar__title">NiFiKop</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link header-doc-link" aria-label="Documentation" href="/nifikop/docs/1_concepts/1_introduction"></a></li><li class="menu__list-item"><a class="menu__link header-blog-link" aria-label="Blog" href="/nifikop/blog"></a></li><li class="menu__list-item"><a href="https://github.com/konpyutaika/nifikop" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/next/7_upgrade/1_v0.7.x_to_v0.8.0">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/7_upgrade/1_v0.7.x_to_v0.8.0">v0.13.0</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.12.0/7_upgrade/1_v0.7.x_to_v0.8.0">v0.12.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/nifikop/docs/v0.11.0/7_upgrade/1_v0.7.x_to_v0.8.0">v0.11.0</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.10.0/1_concepts/1_introduction">v0.10.0</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.9.0/1_concepts/1_introduction">v0.9.0</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.8.0/1_concepts/1_introduction">v0.8.0</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.7.6/1_concepts/1_introduction">v0.7.6</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.7.5/1_concepts/1_introduction">v0.7.5</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.7.0/1_concepts/1_introduction">v0.7.0</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.6.3/1_concepts/1_introduction">v0.6.3</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.6.2/1_concepts/1_introduction">v0.6.2</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.6.1/1_concepts/1_introduction">v0.6.1</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.6.0/1_concepts/1_introduction">v0.6.0</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.5.3/1_concepts/1_introduction">v0.5.3</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/v0.4.3/1_concepts/1_introduction">v0.4.3</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/versions">All versions</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2UBv"><div class="docSidebarContainer_1hqR" role="complementary"><div class="sidebar_MSwm"><div class="menu menu--responsive menu_2hiu"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_37TU" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/1_concepts/1_introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/1_concepts/2_design_principes">Design Principes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/1_concepts/3_features">Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/1_concepts/4_roadmap">Roadmap</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/2_setup/1_getting_started">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Platform Setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/2_setup/2_platform_setup/1_gke">Google Kubernetes Engine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/2_setup/2_platform_setup/2_k3d">K3D</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Install</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/2_setup/3_install/1_customizable_install_with_helm">Customizable install with Helm</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tasks</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">NiFi Cluster</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/3_tasks/1_nifi_cluster/2_cluster_scaling">Cluster Scaling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/3_tasks/1_nifi_cluster/4_external_cluster">External cluster</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/3_tasks/2_security/1_ssl">SSL</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Authentication</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/3_tasks/2_security/2_authentication/1_oidc">OpenId Connect</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/3_tasks/3_nifi_dataflow">NiFi Dataflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/3_tasks/4_nifi_user_group">NiFi Users and Groups</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">NiFi Cluster</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/1_nifi_cluster/1_nifi_cluster">NiFi cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/1_nifi_cluster/2_read_only_config">Read only configurations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/1_nifi_cluster/3_node_config">Node configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/1_nifi_cluster/4_node">Node</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/1_nifi_cluster/5_node_state">Node state</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/1_nifi_cluster/6_listeners_config">Listeners Config</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/1_nifi_cluster/7_external_service_config">External Service Config</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/2_nifi_user">NiFi User</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/3_nifi_registry_client">NiFi Registry Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/4_nifi_parameter_context">NiFi Parameter Context</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/5_nifi_dataflow">NiFi Dataflow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/5_references/6_nifi_usergroup">NiFi UserGroup</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contributing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/6_contributing/0_contribution_organization">Contribution organization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/6_contributing/1_developer_guide">Developer guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/6_contributing/2_reporting_bugs">Reporting bugs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nifikop/docs/v0.11.0/6_contributing/3_credits">Credits</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Upgrade Guides</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/nifikop/docs/v0.11.0/7_upgrade/1_v0.7.x_to_v0.8.0">v0.7.x to v0.8.0</a></li></ul></li></ul></div></div></div><main class="docMainContainer_1rYT"><div class="container padding-vert--lg docItemWrapper_3NEy"><div class="row"><div class="col docItemCol_xWqS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for NiFiKop <strong>v0.11.0</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/nifikop/docs/7_upgrade/1_v0.7.x_to_v0.8.0">latest version</a></strong> (v0.13.0).</div></div><div class="docItemContainer_2ApQ"><article><div><span class="badge badge--secondary">Version: v0.11.0</span></div><header><h1 class="docTitle_N1jF">v0.7.x to v0.8.0</h1></header><div class="markdown"><p>Guide to migrate operator resources built using <code>nifi.orange.com/v1alpha1</code> to <code>nifi.konpyutaika/v1alpha1</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="getting-started"></a>Getting started<a aria-hidden="true" tabindex="-1" class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><p>The goal is to migrate your NiFiKop resources from the old CRDs to the new ones without any service interruption.</p><p>To do this, it is necessary to have both versions of CRDs available on Kubernetes and to have the old operator stopped (to prevent any manipulation on the resources).
Then launch the script developed in nodejs presented in the following. The script will copy the resources in the old CRDs to the new CRDs keeping only the relevant fields (labels, annotations, name and spec) and then copy the status.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="prerequisites"></a>Prerequisites<a aria-hidden="true" tabindex="-1" class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h2><ul><li><a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer">nodejs</a> version 15.3.0+</li><li><a href="https://docs.npmjs.com/cli/v7/configuring-npm/install" target="_blank" rel="noopener noreferrer">npm</a> version 7.0.14+</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="initial-setup"></a>Initial setup<a aria-hidden="true" tabindex="-1" class="hash-link" href="#initial-setup" title="Direct link to heading">#</a></h2><p>Create a nodejs project and download the required dependencies:</p><div class="mdxCodeBlock_xYIz"><div class="codeBlockContent_rlEb"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_kOW4">Copy</button><div class="prism-code language-bash codeBlock_1AP7"><div class="codeBlockLines_1boI" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">npm</span><span class="token plain"> init -y</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token function" style="color:#79b6f2">npm</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">install</span><span class="token plain"> @kubernetes/client-node@0.16.3 minimist@1.2.6</span></div></div></div></div></div><p>In <code>package.json</code> add the following script:</p><div class="mdxCodeBlock_xYIz"><div class="codeBlockContent_rlEb"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_kOW4">Copy</button><div class="prism-code language-json codeBlock_1AP7"><div class="codeBlockLines_1boI" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token property" style="color:#2aa198">&quot;start&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;node --no-warnings index.js&quot;</span></div></div></div></div></div><p>Your <code>package.json</code> should look like that:</p><div class="mdxCodeBlock_xYIz"><div class="codeBlockContent_rlEb"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_kOW4">Copy</button><div class="prism-code language-json codeBlock_1AP7"><div class="codeBlockLines_1boI" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;name&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;nifikop_crd_migration&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;version&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;1.0.0&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;description&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Script to migrate from the old CRDs to the new CRDs.&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;main&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;index.js&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;scripts&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token property" style="color:#2aa198">&quot;start&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;node --no-warnings index.js&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token property" style="color:#2aa198">&quot;test&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;keywords&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;K8S&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;NiFiKop&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;CRDs&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;license&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;ISC&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token property" style="color:#2aa198">&quot;dependencies&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token property" style="color:#2aa198">&quot;@kubernetes/client-node&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;^0.16.3&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token property" style="color:#2aa198">&quot;minimist&quot;</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;^1.2.6&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="script-setup"></a>Script setup<a aria-hidden="true" tabindex="-1" class="hash-link" href="#script-setup" title="Direct link to heading">#</a></h2><p>Create the file <code>index.js</code> with the following content:</p><div class="mdxCodeBlock_xYIz"><div class="codeBlockContent_rlEb"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_kOW4">Copy</button><div class="prism-code language-js codeBlock_1AP7"><div class="codeBlockLines_1boI" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">process</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#657b83">[</span><span class="token string" style="color:#8dc891">&#x27;NODE_TLS_REJECT_UNAUTHORIZED&#x27;</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> k8s </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">require</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;@kubernetes/client-node&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> kc </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#fac863">k8s</span><span class="token class-name punctuation" style="color:#657b83">.</span><span class="token class-name" style="color:#fac863">KubeConfig</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">kc</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">loadFromDefault</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> k8sApi </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> kc</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">makeApiClient</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">k8s</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access maybe-class-name">CustomObjectsApi</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KONPYUTAIKA_GROUP</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifi.konpyutaika.com&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KONPYUTAIKA_GROUP_VERSION</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;v1alpha1&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">ORANGE_GROUP</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifi.orange.com&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">ORANGE_GROUP_VERSION</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;v1alpha1&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#79b6f2">call</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter constant" style="color:#5a9bcf">SRC_GRP</span><span class="token parameter punctuation" style="color:#657b83">,</span><span class="token parameter"> </span><span class="token parameter constant" style="color:#5a9bcf">SRC_GRP_VER</span><span class="token parameter punctuation" style="color:#657b83">,</span><span class="token parameter"> </span><span class="token parameter constant" style="color:#5a9bcf">DST_GRP</span><span class="token parameter punctuation" style="color:#657b83">,</span><span class="token parameter"> </span><span class="token parameter constant" style="color:#5a9bcf">DST_GRP_VER</span><span class="token parameter punctuation" style="color:#657b83">,</span><span class="token parameter"> </span><span class="token parameter constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token parameter punctuation" style="color:#657b83">,</span><span class="token parameter"> </span><span class="token parameter constant" style="color:#5a9bcf">NAMESPACE</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">Listing </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> of </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">SRC_GRP</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">SRC_GRP_VER</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> in </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">NAMESPACE</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">...</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> listResources </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword control-flow" style="color:#c5a5c5">await</span><span class="token plain"> k8sApi</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">listNamespacedCustomObject</span><span class="token punctuation" style="color:#657b83">(</span><span class="token constant" style="color:#5a9bcf">SRC_GRP</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">SRC_GRP_VER</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">NAMESPACE</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">items</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#fac863">Promise</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">all</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">listResources</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">map</span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">resource</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#c5a5c5">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">Found </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">kind</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">metadata</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">&quot; of </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">apiVersion</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> in </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">NAMESPACE</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">ownerReferences</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">kind</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">metadata</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> mananged by something else (ownerRefereces is set).</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token keyword control-flow" style="color:#c5a5c5">return</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> bodyResource </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token literal-property property" style="color:#2aa198">apiVersion</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">DST_GRP</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">DST_GRP_VER</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token literal-property property" style="color:#2aa198">kind</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">kind</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token literal-property property" style="color:#2aa198">metadata</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#2aa198">name</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#2aa198">annotations</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">annotations</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#2aa198">labels</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">labels</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token literal-property property" style="color:#2aa198">spec</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">spec</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">Creating </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">bodyResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">kind</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">bodyResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">metadata</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">&quot; of </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">bodyResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">apiVersion</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> in </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">NAMESPACE</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">...</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> newResource </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword control-flow" style="color:#c5a5c5">await</span><span class="token plain"> k8sApi</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">createNamespacedCustomObject</span><span class="token punctuation" style="color:#657b83">(</span><span class="token constant" style="color:#5a9bcf">DST_GRP</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">DST_GRP_VER</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">NAMESPACE</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> bodyResource</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;...done creating.&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> bodyStatus </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token literal-property property" style="color:#2aa198">apiVersion</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> newResource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">apiVersion</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token literal-property property" style="color:#2aa198">kind</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> newResource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">kind</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token literal-property property" style="color:#2aa198">metadata</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#2aa198">name</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> newResource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#2aa198">resourceVersion</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> newResource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">resourceVersion</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token literal-property property" style="color:#2aa198">status</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">status</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">Copying status from </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">kind</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">metadata</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">&quot; of </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">newResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">apiVersion</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> to </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">newResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">kind</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">newResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">metadata</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">&quot; of </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">newResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">apiVersion</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> in </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">NAMESPACE</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">...</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> newResourceWithStatus </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword control-flow" style="color:#c5a5c5">await</span><span class="token plain"> k8sApi</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">replaceNamespacedCustomObjectStatus</span><span class="token punctuation" style="color:#657b83">(</span><span class="token constant" style="color:#5a9bcf">DST_GRP</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">DST_GRP_VER</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">NAMESPACE</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> bodyStatus</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> bodyStatus</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;...done copying.&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#c5a5c5">return</span><span class="token plain"> newResourceWithStatus</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#c5a5c5">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">error</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> e</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> e</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> e</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> e</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> argv </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">require</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;minimist&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">slice</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">NAMESPACE</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">namespace</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">namespace</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">namespace</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token literal-property property" style="color:#2aa198">cluster</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nificlusters&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token literal-property property" style="color:#2aa198">dataflow</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifidataflows&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token literal-property property" style="color:#2aa198">parametercontext</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifiparametercontexts&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token literal-property property" style="color:#2aa198">registryclient</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifiregistryclients&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token literal-property property" style="color:#2aa198">user</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifiusers&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token literal-property property" style="color:#2aa198">usergroup</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifiusergroups&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token operator" style="color:#fc929e">!</span><span class="token plain">argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">error</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;Type not provided&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    process</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">exit</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token operator" style="color:#fc929e">!</span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">error</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">Type </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">argv</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">type</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> is not one of the following types: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation known-class-name class-name" style="color:#fac863">Object</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation method function property-access" style="color:#79b6f2">keys</span><span class="token template-string interpolation punctuation" style="color:#657b83">(</span><span class="token template-string interpolation constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token template-string interpolation punctuation" style="color:#657b83">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    process</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">exit</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">########### START: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token template-string interpolation punctuation" style="color:#657b83">[</span><span class="token template-string interpolation">argv</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">type</span><span class="token template-string interpolation punctuation" style="color:#657b83">]</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> ###########</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token function" style="color:#79b6f2">call</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">ORANGE_GROUP</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">ORANGE_GROUP_VERSION</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KONPYUTAIKA_GROUP</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KONPYUTAIKA_GROUP_VERSION</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">NAMESPACE</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">then</span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">r</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;############ END ############&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token punctuation" style="color:#657b83">.</span><span class="token keyword control-flow" style="color:#c5a5c5">catch</span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">e</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">error</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="run-script"></a>Run script<a aria-hidden="true" tabindex="-1" class="hash-link" href="#run-script" title="Direct link to heading">#</a></h2><p>To migrate the resources, run the following command:</p><div class="mdxCodeBlock_xYIz"><div class="codeBlockContent_rlEb"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_kOW4">Copy</button><div class="prism-code language-bash codeBlock_1AP7"><div class="codeBlockLines_1boI" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">npm</span><span class="token plain"> start -- --type</span><span class="token operator" style="color:#fc929e">=</span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token plain">NIFIKOP_RESOURCE</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> --namespace</span><span class="token operator" style="color:#fc929e">=</span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token plain">K8S_NAMESPACE</span><span class="token operator" style="color:#fc929e">&gt;</span></div></div></div></div></div><p>with</p><ul><li><code>&lt;NIFIKOP_RESOURCE&gt;</code>: NiFiKop resource type (cluster, dataflow, user, usergroup, parametercontext or registryclient)</li><li><code>&lt;K8S_NAMESPACE&gt;:</code> Kubernetes namespace where the resources will be migrated</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/konpyutaika/nifikop/edit/master/site/website/versioned_docs/version-v0.11.0/7_upgrade/1_v0.7.x_to_v0.8.0.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-06-27T17:09:15.000Z" class="docLastUpdatedAt_3LuF">6/27/2022</time> by <strong>Juldrixx</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/nifikop/docs/v0.11.0/6_contributing/3_credits"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Credits</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3iuQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link">Getting started</a></li><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#initial-setup" class="table-of-contents__link">Initial setup</a></li><li><a href="#script-setup" class="table-of-contents__link">Script setup</a></li><li><a href="#run-script" class="table-of-contents__link">Run script</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Getting Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/nifikop/docs/1_concepts/1_introduction">Documentation</a></li><li class="footer__item"><a href="https://github.com/konpyutaika/nifikop" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/konpytika/shared_invite/zt-14md072lv-Jr8mqYoeUrqzfZF~YGUpXA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a class="footer__link-item" href="/nifikop/blog">Blog</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Contact</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/konpyutaika/nifikop/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Feature request</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2022 Orange, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/nifikop/styles.b0f4045d.js"></script>
<script src="/nifikop/runtime~main.924a0b71.js"></script>
<script src="/nifikop/main.0697f0f6.js"></script>
<script src="/nifikop/1.74fd8109.js"></script>
<script src="/nifikop/2.76427c8b.js"></script>
<script src="/nifikop/3.ec1cc495.js"></script>
<script src="/nifikop/1be78505.f716530f.js"></script>
<script src="/nifikop/570.643fbaa5.js"></script>
<script src="/nifikop/0856e11c.29c8981f.js"></script>
<script src="/nifikop/17896441.03e7516b.js"></script>
<script src="/nifikop/f92d5d01.4d3cf769.js"></script>
</body>
</html>